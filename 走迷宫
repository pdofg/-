#include <stdio.h>
#include <conio.h>
#include <stdlib.h>
#include <string.h>

char a[1000][1000]={"0########################################",
                    " #     ##                   #           #",
			        " ##### ## ####### ######### # ######### #",
				    " ##     # #     # #       # # #       # #",
  				    " ## ###   # ### # # ##### #   # ####### #",
				    "    ####### #   # # ##  # #####         #",
				    "## #   #    # ##### ### # ##  ###### ## #",
				    "## ### # # ##           #####        ## #",
				    "##         #  ### #####      #######  # #",
				    "############ #    #   # #### #   #  # # #",
				    "#         # #  ###  # # #      #   ## # #",
				    "# ####### # # #    ##     ## ########## #",
				    "# #       # #   ############ #          #",
				    "# ##############             # ##########",
				    "#                ####### ## ## #      ###",
				    "################# #      ### # # # ######",
				    "#        ##     # # ####     #   # #   ##",
				    "# ######    #####       #### ##### ### ##",
				    "# ############### ########       #     ##",
				    "#                          #### #########",
				    "###############################          终点",};//地图


int main()
{
	
	int x,y;
	char ch,z;
	x=0,y=0;
	system("color f0");
	printf("\n\n\n\t\t\t\t\t\t按任意键开始游戏      \n");//开始游戏时
	getch();
	system ("cls");

	for(int d=0;d<21;d++)//输出地图
	{
		puts(a[d]);
	}


	while(1)//控制移动
	{
		ch=getch();
		if(ch=='w')
		{
			if(a[x-1][y]==' ')
			{
				a[x][y]=' ';
				x--;
				a[x][y]='0';
			}
		}
		else if(ch=='a')
		{
			if(a[x][y-1]==' ')
			{
				a[x][y]=' ';
				y--;
				a[x][y]='0';
			}
		}
		else if(ch=='s')
		{
			if(a[x+1][y]==' ')
			{
				a[x][y]=' ';
				x++;
				a[x][y]='0';
			}
		}
		else if(ch=='d')
		{
			if(a[x][y+1]==' ')
			{
				a[x][y]=' ';
				y++;
				a[x][y]='0';
			}
		}


		system ("cls");//地图刷新输出
		for(int d=0;d<21;d++)
		{
			puts(a[d]);
			if(d==20)
			{
				printf("\n当前坐标：x=%d	y=%d\n",y,x);
				printf("使用“w”“a”“s”“d”控制移动");
			}
		}


		if(x==20&&y==40)//终点判断
		{
			system ("cls");
			printf("\n\n\n          胜利！游戏结束！\n\n\n");
			break;
		}
	}
	return 0;
}
